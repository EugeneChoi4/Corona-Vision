<!DOCTYPE html>
<html>
	<head>
		<title>CoronAwareness</title>
		{% include 'styles.html' %}
		<script src="/static/approve_data.js" type="text/javascript"></script>
	</head>
	<body>
		{% include 'navbar.html' %}
		<div class="p-2 text-center">
			<h1 class="display-1 text-dark">Approve Data</h1>
			<div class="box w-75 mx-auto text-left">
				<b id="message"></b>
				<b>Data pending approval: </b><br/>
				{% if pending_data %}
					<table class="table table-striped table-hover w-100">
						<thead>
							<tr class="font-weight-bold text-left">
								<th scope="col">ID</th>
								<th scope="col">Location</th>
								<th scope="col" class="text-right"># confirmed</th>
								<th scope="col" class="text-right"># recovered</th>
								<th scope="col" class="text-right"># dead</th>
								<th scope="col">Follow-up email</th>
								<th scope="col">Approve</th>
								<th scope="col">Decline</th>
							</tr>
						</thead>
						<tbody>
							
							{% for datapoint in pending_data %}
								<tr id="row-{{datapoint.data_id}}">
									<td>{{datapoint.data_id}}</td>
									<td>{{datapoint.location}}</td>
									<td class="text-right">{{datapoint.confirmed}}</td>
									<td class="text-right">{{datapoint.recovered}}</td>
									<td class="text-right">{{datapoint.dead}}</td>
									<td><a href="mailto:{{datapoint.email}}">{{datapoint.email}}</a></td>
									<td><a href="javascript:approve_data({{datapoint.data_id}})">Approve</a></td>
									<td><a href="javascript:decline_data({{datapoint.data_id}})">Decline</a></td>
								</tr>
							{% endfor %}
						</tbody>
					</table>
				{% else %}
					None
				{% endif %}
			</div>
		</div>
	</body>
</html>